{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Loader from'../component/Loader';import Error from'../component/Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Logindisplay(){const[loading,setLoading]=useState(false);const[password,setPassword]=useState('');const[email,setEmail]=useState('');const[error,setError]=useState(false);async function login(){const user={email,password};try{setLoading(true);const result=(await axios.post('/api/users/login',user)).data;console.log(result);setLoading(false);console.log(result);console.log(result);console.log(result);console.log(result);console.log(result);localStorage.setItem('currentUser',JSON.stringify(result));window.location.href='/home';debugger;}catch(error){console.log(error);setLoading(false);setError(true);}}return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5 mt-5\",children:[error&&/*#__PURE__*/_jsx(Error,{message:\"Invalid data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bs\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:login,children:\"Login\"})]})]})})]});}export default Logindisplay;","map":{"version":3,"names":["React","useState","axios","Loader","Error","jsx","_jsx","jsxs","_jsxs","Logindisplay","loading","setLoading","password","setPassword","email","setEmail","error","setError","login","user","result","post","data","console","log","localStorage","setItem","JSON","stringify","window","location","href","children","className","message","type","placeholder","value","onChange","e","target","onClick"],"sources":["/Users/suvashneupane/frontendd/my-react-app/src/display/Logindisplay.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Loader from '../component/Loader';\nimport Error from '../component/Error';\n\nfunction Logindisplay() {\n  const [loading, setLoading] = useState(false);\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState(false);\n\n  async function login() {\n    const user = { email, password };\n\n    try {\n      setLoading(true);\n      const result = (await axios.post('/api/users/login', user)).data;\n      console.log(result)\n      setLoading(false);\n      console.log(result)\n      console.log(result)\n      console.log(result)\n      console.log(result)\n      console.log(result)\n      localStorage.setItem('currentUser', JSON.stringify(result));\n      window.location.href = '/home';\n      debugger;\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n      setError(true);\n    }\n  }\n\n  return (\n    <div>\n      {loading && <Loader />}\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-md-5 mt-5\">\n          {error && <Error message=\"Invalid data\" />}\n          <div className=\"bs\">\n            <h2>Login</h2>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              placeholder=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <button className=\"btn btn-primary mt-3\" onClick={login}>\n              Login\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Logindisplay;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}